
<!DOCTYPE html>
<html lang="en">
    <head>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
        <style>
       body {
        margin: 10%;
         margin-left:20%;
      }
      
      #slider {
        position: relative;
        width: 500px;
        height: 265px;
       
        overflow: hidden;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);
      }
      #slider ul {
        position: relative;
        list-style: none;
        height: 100%;
        width: 10000%;
        padding: 0;
        margin: 0;
        transition: all 750ms ease;
        left: 0;
      }
      #slider ul li {
        position: relative;
        height: 100%;
       
        float: left;
      }
      #slider ul li img{
        width: 500px;
        height: 265px;
      }
       
      #slider #prev, #slider #next {
        width: 50px;
        line-height: 50px;
        border-radius: 50%;
        font-size: 2rem;
        text-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
        text-align: center;
        color: white;
        text-decoration: none;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        transition: all 150ms ease;
      }
      #slider #prev:hover, #slider #next:hover {
        background-color: rgba(0, 0, 0, 0.5);
        text-shadow: 0;
      }
      #slider #prev {
        left: 10px;
      }
      #slider #next {
        right: 10px;
      }
        </style>
      </head>
<body>
</body>
<script>
  var data = {};
  var globalObjectCount = 0;
  var globalObject1 = 0;
  const getJSON = async url => {
  const response = await fetch(url);
  if(!response.ok) // check if response worked (no 404 errors etc...)
    throw new Error(response.statusText);

  const data = response.json(); // get JSON from the response
  return data; // returns a promise, which resolves to this data value
}

console.log("Fetching data...");
getJSON("https://node1-git-main-ju3tin.vercel.app/dude.json").then(data => {
 // var x1 = document.getElementsByTagName("body")[0];

 // console.log(data);
 var x2 = document.getElementsByTagName("body")[0];
 var NewElement00 = document.createElement('div');
 var NewElement01 = document.createElement('ul');
 
var NewElement02 = document.createElement('a');
var NewElement03 = document.createElement('a');
 NewElement00.id = 'slider';
 NewElement01.id = 'slideWrap';
 NewElement02.id = "prev";
NewElement03.id = "next";
NewElement02.setAttribute("href","#");
NewElement03.setAttribute("href","#");
NewElement02.innerHTML = "≪";
NewElement03.innerHTML = "≫";
// NewElement00.innerHTML = JSON.stringify(data.data);
 x2.appendChild(NewElement00);
 NewElement00.appendChild(NewElement01);
 
NewElement00.appendChild(NewElement02);
NewElement00.appendChild(NewElement03);
//  document.write(JSON.stringify(data.data));
data.data.forEach(function(item, ii) {
    
    var dataCount1 = data.data.length; // Count objects in the 'data' array
    globalObjectCount += dataCount1;
	var dude34a = ii++;
    globalObject1 = 1 + dude34a;
    var var01 = document.createElement('li');
    var var02 = document.createElement('img');
    NewElement01.appendChild(var01);
    var01.appendChild(var02);
    var02.setAttribute("src",data.data[dude34a].images[0].src);
	console.log(dude34a);
    console.log(data.data[dude34a].images[0].src);
    })
   
var sliderWidth1 = NewElement00.offsetWidth;
console.log(sliderWidth1);
console.log("this is a count"+globalObject1);
var slideList = document.getElementById("slideWrap");
var count = 1;
var items = globalObject1;
var prev = document.getElementById("prev");
var next = document.getElementById("next");

window.addEventListener('resize', function() {
  sliderWidth = slider.offsetWidth;
});

var prevSlide = function() {
  if(count > 1) {
    count = count - 2;
    slideList.style.left = "-" + count * sliderWidth1 + "px";
    count++;
  }
  else if(count = 1) {
    count = items - 1;
    slideList.style.left = "-" + count * sliderWidth1 + "px";
    count++;
  }
};

var nextSlide = function() {
  if(count < items) {
    slideList.style.left = "-" + count * sliderWidth1 + "px";
    count++;
  }
  else if(count = items) {
    slideList.style.left = "0px";
    count = 1;
  }
};

next.addEventListener("click", function() {
  nextSlide();
});

prev.addEventListener("click", function() {
  prevSlide();
});

setInterval(function() {
  nextSlide()
}, 5000);

}).catch(error => {
  console.error(error);
});
const body = document.body;
//body.onload = myFunction;
/*
function myFunction() {
//alert('Page finished loading');
var x = document.getElementsByTagName("body")[0];
var NewElement = document.createElement('div');
var NewElement1 = document.createElement('ul');
var NewElement2 = document.createElement('a');
var NewElement3 = document.createElement('a');

NewElement2.id = "prev";
NewElement3.id = "next";
NewElement2.setAttribute("href","#");
NewElement3.setAttribute("href","#");
NewElement2.innerHTML = "≪";
NewElement3.innerHTML = "≫";
NewElement.id = 'slider';
NewElement1.id = 'slideWrap';
x.appendChild(NewElement);
var NewElement4 = document.createElement('div');
x.appendChild(NewElement4);
NewElement.appendChild(NewElement1);
NewElement.appendChild(NewElement2);
NewElement.appendChild(NewElement3);
var xhr = new XMLHttpRequest();

// Configure it: GET-request for the URL /api/data


var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
    data2 = this.responseText;
  }
});

xhr.open("GET", "/js/data1.json");
xhr.send();

// This will be called after the response is received
xhr.onload = function() {
  if (xhr.status != 200) { // analyze HTTP response status
    alert(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found
  }else{
    var data = JSON.parse(xhr.response);
    data.data.forEach(function(item, ii) {
    
    var dataCount = data.data.length; // Count objects in the 'data' array
    globalObjectCount += dataCount;
	var dude34 = ii++;
    globalObject1 = 1 + dude34;
    var var1 = document.createElement('li');
    var var2 = document.createElement('img');
    NewElement1.appendChild(var1);
    var1.appendChild(var2);
    var2.setAttribute("src",data.data[dude34].images[0].src);
	console.log(dude34);
    console.log(data.data[dude34].images[0].src);
    })

  }

var sliderWidth1 = NewElement.offsetWidth;
console.log(sliderWidth1);
console.log("this is a count"+globalObject1);
var slideList = document.getElementById("slideWrap");
var count = 1;
var items = globalObject1;
var prev = document.getElementById("prev");
var next = document.getElementById("next");

window.addEventListener('resize', function() {
  sliderWidth = slider.offsetWidth;
});

var prevSlide = function() {
  if(count > 1) {
    count = count - 2;
    slideList.style.left = "-" + count * sliderWidth1 + "px";
    count++;
  }
  else if(count = 1) {
    count = items - 1;
    slideList.style.left = "-" + count * sliderWidth1 + "px";
    count++;
  }
};

var nextSlide = function() {
  if(count < items) {
    slideList.style.left = "-" + count * sliderWidth1 + "px";
    count++;
  }
  else if(count = items) {
    slideList.style.left = "0px";
    count = 1;
  }
};

next.addEventListener("click", function() {
  nextSlide();
});

prev.addEventListener("click", function() {
  prevSlide();
});

setInterval(function() {
  nextSlide()
}, 5000);
console.log(items)
}
}

var responsiveSlider = function() {

var slider = document.getElementById("slider");
var sliderWidth = slider.offsetWidth;
var slideList = document.getElementById("slideWrap");
var count = 1;
var items = slideList.querySelectorAll("li").length;
var prev = document.getElementById("prev");
var next = document.getElementById("next");

window.addEventListener('resize', function() {
  sliderWidth = slider.offsetWidth;
});

var prevSlide = function() {
  if(count > 1) {
    count = count - 2;
    slideList.style.left = "-" + count * sliderWidth + "px";
    count++;
  }
  else if(count = 1) {
    count = items - 1;
    slideList.style.left = "-" + count * sliderWidth + "px";
    count++;
  }
};

var nextSlide = function() {
  if(count < items) {
    slideList.style.left = "-" + count * sliderWidth + "px";
    count++;
  }
  else if(count = items) {
    slideList.style.left = "0px";
    count = 1;
  }
};

next.addEventListener("click", function() {
  nextSlide();
});

prev.addEventListener("click", function() {
  prevSlide();
});

setInterval(function() {
  nextSlide()
}, 5000);

};

window.onload = function() {
responsiveSlider();  
}
*/
</script>
</html>